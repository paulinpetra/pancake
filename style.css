/* 
  CSS organized using Cascade Layers and CUBE naming convention
  (from lowest priority layers â†’ highest priority layers)
*/

/* ===== LAYER DEFINITIONS ===== */
/* creates a stack order for the layers that will be checked first by the browser, before specificity */

@layer reset, base, layout, components, utilities;

/* ===== RESET LAYER ===== */
/* resets that will have low specificity */
@layer reset {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
}

/* ===== BASE LAYER ===== */
/* root variables and basic element styling */
@layer base {
  :root {
    /* colors using css variables and oklch */
    --color-primary: oklch(0.445 0.183 29.2);
    --color-primary-light: oklch(0.445 0.183 29.2 / 0.3);
    --color-background: oklch(0.991 0 0);
    --color-surface: oklch(0.94 0 0);
    --color-placeholder: oklch(0.885 0 0);
    --color-text: oklch(0 0 0);
    --color-border: oklch(0.991 0 0);
    --color-nav-action: oklch(0.92 0 0);

    /* spacing */
    --space-xs: 0.5rem;
    --space-sm: 1rem;
    --space-md: 1.5rem;
    --space-lg: 3rem;
    --space-xl: 4rem;

    /* typography */
    --font-family-base: "Open Sans", sans-serif;
    --font-weight-normal: 400;
    --font-weight-bold: 700;
    --font-size-base: 1rem;
    --font-size-lg: 1.75rem;
    --line-height-base: 1;

    /* border radius scale */
    --radius-xs: 0.25rem; /* for small elements, tags */
    --radius-sm: 0.5rem; /* for buttons, inputs */
    --radius-md: 0.75rem; /* for cards, larger components */
    --radius-lg: 1rem; /* for modals, containers */

    /* layout */
    --container-max-width: 80rem;
  }

  html {
    font-size: 16px;
  }

  body {
    font-family: var(--font-family-base);
    background-color: var(--color-primary-light);
    color: var(--color-text);
    padding-block-end: var(--space-xl);
  }

  /* base list styles */
  ul,
  ol {
    list-style-position: inside;
  }
}

/* ===== LAYOUT LAYER ===== */
/* page level structure */
@layer layout {
  .container {
    width: 100%;
    max-width: var(--container-max-width);
    margin-inline: auto;
    display: flex;
    flex-direction: column;
  }
}

/* ===== COMPONENTS LAYER ===== */
/* UI components */
@layer components {
  /* SHARED COMPONENTS */

  /* Header Component */
  .header-img {
    width: 100%;
    object-fit: cover;
    border: 1px solid var(--color-border);
  }

  /* HOME SCREEN SPECIFIC COMPONENTS */

  /* Navigation Component */
  .nav {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-xs);
    padding: var(--space-sm);
    background: var(--color-background);
    border-bottom: 1px solid var(--color-primary);
  }

  .nav-logo p {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-md);
    color: var(--color-primary);
  }

  .nav-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    list-style: none;
  }

  .nav-link a {
    color: var(--color-primary);
    font-weight: var(--font-weight-normal);
    font-size: var(--font-size-base);
    text-decoration: none;
  }

  .nav-login {
    padding: var(--space-xs) var(--space-sm);
    background-color: var(--color-nav-action);
    color: var(--color-text);
    border: none;
    border-radius: var(--radius-sm);
    font-weight: var(--font-weight-bold);
    cursor: pointer;
  }

  /* LARGE SCREENS */
  @media (min-width: 600px) {
    .nav {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .nav-list {
      flex-direction: row;
      gap: var(--space-md);
    }
  }

  /* Recipe-Grid Component */
  .recipe-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr));
    gap: clamp(var(--space-sm), 2vw, var(--space-md));
  }

  .recipe-card {
    display: flex;
    flex-direction: column;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xs);
  }
  .recipe-card__content {
    display: flex;
    flex-direction: column;
  }
  .recipe-card h2 {
    font-size: clamp(1.2rem, 2.5vw, 1.6rem);
  }
  .recipe-card p {
    font-size: clamp(0.95rem, 1.8vw, 1.2rem);
  }

  .recipe-card img {
    width: 100%;
    object-fit: cover;
    aspect-ratio: 2 / 3;
    height: auto;
    max-width: 100%;
    background-color: var(--color-placeholder);
  }

  /* DETAIL SPECIFIC COMPONENTS */

  /*Detail-Header Component*/
  .detail-header {
    display: grid;
    grid-template-areas: "stack";
    width: 100%;
    object-fit: cover;
  }
  .detail-header > * {
    grid-area: stack;
  }
  .back-arrow {
    z-index: 10;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    text-decoration: none;
    padding-inline-start: var(--space-sm);
  }

  /* Recipe-Card Component (whole article) */
  /* move vars!? */

  .recipe-card {
    background: var(--color-background);
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    padding-block: var(--space-lg) var(--space-xl); /*changed to logical properties */
    padding-inline: var(--space-lg);

    & h1 {
      font-weight: var(--font-weight-bold);
      font-size: var(--font-size-lg);
      line-height: var(--line-height-base);
      color: var(--color-primary);
      margin-block-end: var(--space-sm); /*changed to logical properties */
    }

    & .recipe-subtitle {
      font-weight: var(--font-weight-normal);
      font-size: var(--font-size-base);
      line-height: var(--line-height-base);
      margin-block-end: var(--space-md);
      background: var(--color-surface);
      padding: var(--space-sm);
    }
  }
  /*  Content Sections */
  .content-section {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  /* Image Grid */
  .image-gallery {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr;
    gap: var(--space-md);
  }

  .gallery-image {
    width: 100%;
    object-fit: cover;
    background-color: var(--color-placeholder);
  }
}

/* ===== UTILITIES LAYER ===== */
/* single-purpose helper classes that can override everything */
/* empty for now but could have some custom utility classes */
@layer utilities {
  /* example: .text-center { text-align: center; } */
}
