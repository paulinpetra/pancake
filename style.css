/* 
  CSS organized using Cascade Layers and CUBE naming convention
  (from lowest priority layers â†’ highest priority layers)
*/

/* ===== LAYER DEFINITIONS ===== */
/* creates a stack order for the layers that will be checked first by the browser, before specificity */

@layer reset, base, layout, components, utilities;

/* ===== RESET LAYER ===== */
/* resets that will have low specificity */
@layer reset {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  /* ADDED: resets for the form (contact page)*/
  body {
    line-height: 1.5;
  }
  /* remove default fonts and accent colors from the form*/
  input,
  textarea,
  button {
    font: inherit;
    accent-color: var(--color-accent);
  }
}

/* ===== BASE LAYER ===== */
/* theme variables and basic styling */
@layer base {
  :root {
    /* colors using css variables and oklch neon colors */
    --color-primary: oklch(65% 0.3 270);
    --color-primary-light: oklch(92% 0.28 190);
    --color-background: oklch(0.991 0 0);
    --color-surface: oklch(0.94 0 0);
    --color-placeholder: oklch(76.993% 0.00009 271.152);
    --color-text: oklch(0 0 0);
    --color-border: oklch(0.991 0 0);
    --color-nav-action: oklch(0.92 0 0);
    /* NEW: additional colors needed for form */
    --color-accent: oklch(65% 0.3 270); /* Same as --color-primary */
    --color-accent-hover: oklch(60% 0.3 270);
    --color-error: oklch(62% 0.33 25);
    --color-muted: oklch(35% 0.05 230); /* Same as --color-placeholder */

    /* spacing */
    --space-xs: 0.5rem;
    --space-sm: 1rem;
    --space-md: 1.5rem;
    --space-lg: 3rem;
    --space-xl: 4rem;

    /* typography */
    --font-family-base: "Open Sans", sans-serif;
    --font-weight-normal: 400;
    --font-weight-bold: 700;
    --font-size-base: 1rem;
    --font-size-lg: 1.75rem;
    --line-height-base: 1;

    /* border radius scale */
    --radius-xs: 0.25rem; /* for small elements, tags */
    --radius-sm: 0.5rem; /* for buttons, inputs */
    --radius-md: 0.75rem; /* for cards, larger components */
    --radius-lg: 1rem; /* for modals, containers */

    /* layout */
    --container-max-width: 80rem;
  }

  html {
    font-size: 16px;
  }

  body {
    font-family: var(--font-family-base);
    background-color: var(--color-primary-light);
    color: var(--color-text);
    padding-block-end: var(--space-xl);
  }

  ul,
  ol {
    list-style-position: inside;
  }
  /* base form styles */
  input,
  textarea,
  .form-group:has([type="radio"]) {
    background-color: var(--color-background);
    border: 1px solid var(--color-border);
    color: var(--color-text);
    border-radius: var(--radius-sm);
    padding: 0.5em 1em;

    &:focus-visible {
      outline-color: var(--color-accent-hover);
    }
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--color-placeholder);
  }
  label,
  legend {
    color: var(--color-text);
  }
}

/* ===== LAYOUT LAYER ===== */
/* page level structure for index */
@layer layout {
  .container {
    width: 100%;
    max-width: var(--container-max-width);
    margin-inline: auto;
    display: flex;
    flex-direction: column;
  }
}

/* ===== COMPONENTS LAYER ===== */
/* UI components */
@layer components {
  /* SHARED COMPONENTS */

  /* Header Component */
  .header-img {
    width: 100%;
    object-fit: cover;
    border: 1px solid var(--color-border);
  }

  /* HOME SCREEN SPECIFIC COMPONENTS */

  /* Navigation Component */
  .nav {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-xs);
    padding: var(--space-sm);
    background: var(--color-background);
    border-bottom: 1px solid var(--color-primary);
  }

  .nav-logo p {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-md);
    color: var(--color-primary);
  }

  .nav-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    list-style: none;
  }

  .nav-link a {
    color: var(--color-primary);
    font-weight: var(--font-weight-normal);
    font-size: var(--font-size-base);
    text-decoration: none;
  }

  .nav-login {
    padding: var(--space-xs) var(--space-sm);
    background-color: var(--color-nav-action);
    color: var(--color-text);
    border: none;
    border-radius: var(--radius-sm);
    font-weight: var(--font-weight-bold);
    cursor: pointer;
  }

  /* LARGE SCREENS */
  @media (min-width: 600px) {
    .nav {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .nav-list {
      flex-direction: row;
      gap: var(--space-md);
    }
  }

  /* Recipe-Grid Component */
  .recipe-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr));
    gap: clamp(var(--space-sm), 2vw, var(--space-md));
  }

  .recipe-card {
    display: flex;
    flex-direction: column;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xs);
  }
  .recipe-card__content {
    display: flex;
    flex-direction: column;
  }
  .recipe-card h2 {
    font-size: clamp(1.2rem, 2.5vw, 1.6rem);
  }
  .recipe-card p {
    font-size: clamp(0.95rem, 1.8vw, 1.2rem);
  }

  .recipe-card img {
    width: 100%;
    object-fit: cover;
    aspect-ratio: 2 / 3;
    height: auto;
    max-width: 100%;
    background-color: var(--color-placeholder);
  }

  /* DETAIL SPECIFIC COMPONENTS */

  /*Detail-Header Component*/
  .detail-header {
    display: grid;
    grid-template-areas: "stack";
    width: 100%;
    object-fit: cover;
  }
  .detail-header > * {
    grid-area: stack;
  }
  .back-arrow {
    z-index: 10;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    text-decoration: none;
    padding-inline-start: var(--space-sm);
  }

  /* Recipe-Card Component (whole article) */

  .recipe-card {
    background: var(--color-background);
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    padding-block: var(--space-lg) var(--space-xl);
    padding-inline: var(--space-lg);

    & h1 {
      font-weight: var(--font-weight-bold);
      font-size: var(--font-size-lg);
      line-height: var(--line-height-base);
      color: var(--color-primary);
      margin-block-end: var(--space-sm);
    }

    & .recipe-subtitle {
      font-weight: var(--font-weight-normal);
      font-size: var(--font-size-base);
      line-height: var(--line-height-base);
      margin-block-end: var(--space-md);
      background: var(--color-surface);
      padding: var(--space-sm);
    }
  }
  /*  Content Sections */
  .content-section {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  /* Image Grid */
  .image-gallery {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr;
    gap: var(--space-md);
  }

  .gallery-image {
    width: 100%;
    object-fit: cover;
    background-color: var(--color-placeholder);
  }
  /* ===== CONTACT FORM COMPONENTS ===== */
  .contact {
    background: var(--color-surface);
    padding: 2rem;
    border-radius: var(--radius-lg);
    max-inline-size: 700px;
    margin-inline: auto;
    margin-block-start: var(--space-lg);
    border: 1px solid var(--color-border);
  }

  .contact h1 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    color: var(--color-primary);
    margin-block-end: var(--space-md);
  }
  /* grid for the form for one column on mobile and two columns on wide screen */

  .contact-form {
    display: grid;
    gap: var(--space-md);

    @media (width > 560px) {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  [type="radio"],
  [type="checkbox"] {
    width: 1.2em;
    height: 1.2em;
  }
  /* flex since not columns */

  .form-group:has([type="radio"], [type="checkbox"]) {
    display: flex;
    align-items: center;
    gap: 1ch;
    padding: var(--space-xs);
  }

  /* utility class for spanning all columns on wide screen (specific to the component so not in utilities layer) */
  .span-all {
    grid-column: 1 / -1;
  }

  fieldset {
    border: none;
    padding: 0;
    margin: 0;
    display: grid;
    gap: inherit;
    grid-template-columns: inherit; /* could normally be a subgrid but does not work on fieldset */
  }
  textarea {
    resize: block;
    min-height: 6em;
  }
  /*grid for form-groups as well if labels and fields are on different rows,
   and also makes grid items stretch full space */
  .form-group {
    display: grid;
    gap: 0.5em;
  }
  /* for the * on the labels, (but not on the radio buttons themselves) */
  fieldset:has([required]) legend,
  .form-group:has(:not([type="radio"])[required]) label {
    display: flex;
    gap: 0.5ch;

    &::after {
      content: "*";
      color: var(--color-error);
    }
  }

  /* maybe change to a less generic selector here */
  button {
    background-color: var(--color-primary);
    color: white;
    border: 1px solid var(--color-primary);
    cursor: pointer;
    padding: 0.75em 1.5em;
    border-radius: var(--radius-sm);
    font-weight: var(--font-weight-bold);

    &:hover,
    &:focus-visible {
      background-color: var(--color-accent-hover);
      border-color: var(--color-accent-hover);
    }
  }
}

/* ===== UTILITIES LAYER ===== */
/* single-purpose helper classes that can override everything */
/* empty for now but could have some custom utility classes */
@layer utilities {
}
